{% load dict_key %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <title>Index</title>
</head>
<body>
<div class="container-fluid m-1">
    <div class="col-12">
    <br/>
    <a href="{% url 'index' %}">Retour à la page d'accueil</a>
    <br/>

    <h1>{{wallet.name}}</h1>
    <table class="table table-sm table-bordered table-hover">
        <thead class="thead-light">
        <th>Action</th>
        <th>Date achat</th>
        <th>Nombre</th>
        <th>Prix en devise d'achat</th>
        <th>Prix actuel</th>
        <!-- <th>Val. totale à l'achat en devise étrangère</th> -->
        <th>Val. totale à l'achat €</th>
        <th>Val. totale actuelle en €</th>
        <th>Bénef.</th>
        </thead>
        {% for share in shares %}
        {% if shares_benef_by_stock|dict_key:share.stock.symbol < 0 %}
        <tr class="table-danger">
        {% else %}
        <tr class="table-success">
        {% endif %}
            <td>{{ share.stock.symbol }}</td>
            <td>{{ share.buy_date }}</td>
            <td>{{ share.nb }}</td>
            <td>{{ share.price_in_foreign_currency }} {{ share.currency_day_value.foreign_currency.symbol }}</td>
            <td>{{ current_shares_prices_by_stocks|dict_key:share.stock.symbol }}</td>
            <!--<td>{{ share.total_price_in_foreign_currency }} {{ share.currency_day_value.foreign_currency.symbol }}</td>-->
            <td>{{ share.total_price_in_home_currency }} €</td>
            <td>{{ current_total_prices_in_home_currency|dict_key:share.stock.symbol }}</td>
            <td>{{ shares_benef_by_stock|dict_key:share.stock.symbol }} €</td>
        </tr>
        {% endfor %}
    </table>
    </div>
</div>
</body>
</html>